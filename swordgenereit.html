<!DOCTYPE html>
<html>
<head>
    <title>Генератор пиксельных мечей</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.7.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
</head>
<body>
    <button onclick="generateAndDownloadSwords()">Сгенерировать и скачать мечи</button>
    <script>
        async function generateAndDownloadSwords() {
            const zip = new JSZip();

            for (let i = 0; i < 10; i++) {
                const canvas = document.createElement('canvas');
                canvas.width = 16;
                canvas.height = 16;
                const ctx = canvas.getContext('2d');

                drawSword(ctx);

                const dataUrl = canvas.toDataURL('image/png');
                const base64Data = dataUrl.replace(/^data:image\/(png|jpg);base64,/, "");
                zip.file(`sword${i + 1}.png`, base64Data, { base64: true });
            }

            const content = await zip.generateAsync({ type: "blob" });
            saveAs(content, "swords.zip");
        }

        function drawSword(ctx) {
            const handleColor = "#2C2C2C";
            const guardColor = "#333333";
            const bladeColors = ["#4BC6FF", "#70E5FF", "#86F3FF", "#A4FFFF"];

            // Рисуем клинок меча (повернутый на 45 градусов вправо)
            drawPixel(ctx, 8, 0, bladeColors[0]);
            drawPixel(ctx, 9, 1, bladeColors[1]);
            drawPixel(ctx, 10, 2, bladeColors[1]);
            drawPixel(ctx, 11, 3, bladeColors[2]);
            drawPixel(ctx, 12, 4, bladeColors[3]);
            drawPixel(ctx, 13, 5, bladeColors[3]);
            drawPixel(ctx, 14, 6, bladeColors[2]);
            drawPixel(ctx, 15, 7, bladeColors[1]);

            // Рисуем гарду
            drawPixel(ctx, 7, 1, guardColor);
            drawPixel(ctx, 6, 2, guardColor);
            drawPixel(ctx, 5, 3, guardColor);
            drawPixel(ctx, 4, 4, guardColor);
            drawPixel(ctx, 3, 5, guardColor);
            drawPixel(ctx, 2, 6, guardColor);

            // Рисуем рукоятку меча
            drawPixel(ctx, 1, 7, handleColor);
            drawPixel(ctx, 0, 8, handleColor);
        }

        function drawPixel(ctx, x, y, color) {
            ctx.fillStyle = color;
            ctx.fillRect(x, y, 1, 1);
        }
    </script>
</body>
</html>
